<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>imgToHtml</title>
    <meta data-n-head="true" name="format-detection" content="telephone=no">
    <meta data-n-head="true" name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <script src='../flexible.js' type="text/javascript"></script>
    <script src="../jquery-1.12.4.js"></script>
    <script src="html2canvas.min.js"></script>
    <!-- <script src='2.js' type="text/javascript" ></script> -->
    <link   href="2.css" rel="stylesheet" type="text/css" >
</head>
<body>
    <div id="content" >
        asdjknas;jkfn s
        <img src="1.png" alt="">
    </div>
    <button id="btnSave">save</button>
    <script src="html2canvas.min.js"></script>
    <!-- <script src="js/qrcode.js"></script> -->
<!-- <script>
  new QRCode(document.getElementById("code"), {
    text: "https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx4d470c54ddf7b95d&redirect_uri=http://testapp.dcpai.cn/qunpai/wechat/index.html?page=auction-detail&auctionId=1781&response_type=code&scope=snsapi_base&state=#wechat_redirect",
    width: '100',
    height: '100',
    colorDark: "#000",
    colorLight: "#fff",
    correctLevel: QRCode.CorrectLevel.H
  });
</script> -->
<script>
  setTimeout(function () {
    var w = $("#content").width();
    var h = $("#content").height();

    //要将 canvas 的宽高设置成容器宽高的 2 倍
    var canvas = document.createElement("canvas");
    canvas.width = w * 2;
    canvas.height = h * 2;
    canvas.style.width = w + "px";
    canvas.style.height = h + "px";
    var context = canvas.getContext("2d");
    //然后将画布缩放，将图像放大两倍画到画布上
    context.scale(2, 2);

    html2canvas(document.querySelector("#content"), {
      canvas: canvas,
      onrendered: function (canvas) {
        var url = canvas.toDataURL("image/png"); //base64数据
        var image = new Image();
        image.src = url;
        document.body.innerHTML = '';
        // document.body.innerHTML = '<img src="' + url + '"/>';
        document.body.appendChild(image);
        document.title = '整个页面已经是图片了~~';
        $("#shareBody img").css({"width": "100%", "height": "100%"})
        alert(document.body.innerHTML)
      }
    });

  }, 3000);

</script>
</body>
</html>